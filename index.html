<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Georgian Transcription Converter</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #fdfbfb, #ebedee);
      padding: 40px;
      margin: 0;
    }
    h1 {
      text-align: center;
      color: #333;
      font-size: 2em;
      margin-bottom: 30px;
    }
    .container {
      max-width: 700px;
      margin: 0 auto;
      background: white;
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }
    textarea {
      width: 100%;
      height: 100px;
      margin-bottom: 20px;
      padding: 15px;
      font-size: 1.1em;
      border: 2px solid #ccc;
      border-radius: 10px;
      transition: border-color 0.3s;
      resize: vertical;
    }
    textarea:focus {
      border-color: #0077cc;
      outline: none;
    }
    .button-group {
      text-align: center;
      margin-bottom: 20px;
    }
    button {
      padding: 12px 24px;
      margin: 0 10px;
      font-size: 1em;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      background-color: #0077cc;
      color: white;
      transition: background-color 0.3s, transform 0.1s;
    }
    button:hover {
      background-color: #005fa3;
    }
    button:active {
      transform: scale(0.98);
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Georgian ⇄ Latin ⇄ IPA Converter</h1>
    <textarea id="inputText" placeholder="Enter Georgian, Latin, or IPA..."></textarea>
    <div class="button-group">
      <button onclick="convert('georgian')">To Georgian</button>
      <button onclick="convert('latin')">To Latin</button>
      <button onclick="convert('ipa')">To IPA</button>
    </div>
    <textarea id="outputText" readonly placeholder="Output..."></textarea>
  </div>

<script>
  // Georgian → Latin / IPA
  const fromGeorgianTable = [
    ['წ', 'ts’', 'tsʼ'], ['ჭ', 'ch’', 'tʃʼ'], ['ყ', 'q’', 'qʼ'],
    ['ტ', 't’', 'tʼ'], ['კ', 'k’', 'kʼ'], ['პ', 'p’', 'pʼ'],
    ['ჩ', 'ch', 'tʃ'], ['ც', 'ts', 'ts'], ['ძ', 'dz', 'dz'],
    ['ხ', 'kh', 'x'], ['ჟ', 'zh', 'ʒ'], ['ღ', 'gh', 'ɣ'], ['შ', 'sh', 'ʃ'],
    ['ჯ', 'j', 'dʒ'], ['თ', 't', 'tʰ'], ['ფ', 'p', 'pʰ'], ['ქ', 'k', 'kʰ'],
    ['ა', 'a', 'ɑ'], ['ბ', 'b', 'b'], ['გ', 'g', 'g'], ['დ', 'd', 'd'], ['ე', 'e', 'ɛ'],
    ['ვ', 'v', 'v'], ['ზ', 'z', 'z'], ['ი', 'i', 'i'], ['ლ', 'l', 'l'],
    ['მ', 'm', 'm'], ['ნ', 'n', 'n'], ['ო', 'o', 'ɔ'], ['რ', 'r', 'r'],
    ['ს', 's', 's'], ['უ', 'u', 'u'], ['ჰ', 'h', 'h']
  ];

  // Latin → Georgian / IPA
  const fromLatinTable = [
    ['ts’', 'წ', 'tsʼ'], ['ch’', 'ჭ', 'tʃʼ'], ['q’', 'ყ', 'qʼ'],
    ['t’', 'ტ', 'tʼ'], ['k’', 'კ', 'kʼ'], ['p’', 'პ', 'pʼ'],
    ['ch', 'ჩ', 'tʃ'], ['ts', 'ც', 'ts'], ['dz', 'ძ', 'dz'],
    ['kh', 'ხ', 'x'], ['zh', 'ჟ', 'ʒ'], ['gh', 'ღ', 'ɣ'], ['sh', 'შ', 'ʃ'],
    ['j', 'ჯ', 'dʒ'], ['t', 'თ', 'tʰ'], ['p', 'ფ', 'pʰ'], ['k', 'ქ', 'kʰ'],
    ['a', 'ა', 'ɑ'], ['b', 'ბ', 'b'], ['g', 'გ', 'g'], ['d', 'დ', 'd'], ['e', 'ე', 'ɛ'],
    ['v', 'ვ', 'v'], ['z', 'ზ', 'z'], ['i', 'ი', 'i'], ['l', 'ლ', 'l'],
    ['m', 'მ', 'm'], ['n', 'ნ', 'n'], ['o', 'ო', 'ɔ'], ['r', 'რ', 'r'],
    ['s', 'ს', 's'], ['u', 'უ', 'u'], ['h', 'ჰ', 'h']
  ];

  // IPA → Georgian / Latin
  const fromIPATable = [
    ['tsʼ', 'წ', 'ts’'], ['tʃʼ', 'ჭ', 'ch’'], ['qʼ', 'ყ', 'q’'],
    ['tʼ', 'ტ', 't’'], ['kʼ', 'კ', 'k’'], ['pʼ', 'პ', 'p’'],
    ['tʃ', 'ჩ', 'ch'], ['ts', 'ც', 'ts'], ['dz', 'ძ', 'dz'],
    ['x', 'ხ', 'kh'], ['ʒ', 'ჟ', 'zh'], ['ɣ', 'ღ', 'gh'], ['ʃ', 'შ', 'sh'],
    ['dʒ', 'ჯ', 'j'], ['tʰ', 'თ', 't'], ['pʰ', 'ფ', 'p'], ['kʰ', 'ქ', 'k'],
    ['ɑ', 'ა', 'a'], ['b', 'ბ', 'b'], ['g', 'გ', 'g'], ['d', 'დ', 'd'], ['ɛ', 'ე', 'e'],
    ['v', 'ვ', 'v'], ['z', 'ზ', 'z'], ['i', 'ი', 'i'], ['l', 'ლ', 'l'],
    ['m', 'მ', 'm'], ['n', 'ნ', 'n'], ['ɔ', 'ო', 'o'], ['r', 'რ', 'r'],
    ['s', 'ს', 's'], ['u', 'უ', 'u'], ['h', 'ჰ', 'h']
  ];

  function convert(mode) {
    let input = document.getElementById("inputText").value;
    let output = input;

    if (mode === 'georgian') {
      fromGeorgianTable.forEach(([geo, lat, ipa]) => {
        output = output.split(geo).join(lat);
      });
    } else if (mode === 'latin') {
      // 長い順に
      [...fromLatinTable].sort((a, b) => b[0].length - a[0].length).forEach(([lat, geo, ipa]) => {
        output = output.split(lat).join(geo);
      });
    } else if (mode === 'ipa') {
      [...fromIPATable].sort((a, b) => b[0].length - a[0].length).forEach(([ipa, geo, lat]) => {
        output = output.split(ipa).join(geo);
      });
    }

    document.getElementById("outputText").value = output;
  }
</script>
</body>
</html>
